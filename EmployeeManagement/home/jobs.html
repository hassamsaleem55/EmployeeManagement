<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- responsive viewport
    ====================================================================-->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- responsive viewport
    ====================================================================-->
    <title>Jobs - Work Permit</title>

    <link href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap.min.css" rel="stylesheet" />

    <!-- Bootstrap css
    =====================================================================-->
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <!-- FontAwesome css
    =====================================================================-->
    <link rel="stylesheet" href="css/font-awesome.min.css">

    <!-- Nivo-slider css
    =====================================================================-->
    <link rel="stylesheet" href="css/nivo-slider.css">

    <!-- Animate css
    =====================================================================-->
    <link rel="stylesheet" href="css/animate.css">

    <!-- Owl css
    =====================================================================-->
    <link rel="stylesheet" href="css/owl.carousel.min.css">

    <!-- PrettyPhoto css
    =====================================================================-->
    <link rel="stylesheet" href="css/prettyPhoto.css">

    <!-- Meanmenu css
    =====================================================================-->
    <link rel="stylesheet" href="css/meanmenu.min.css">

    <!-- Style css
    =====================================================================-->
    <link rel="stylesheet" href="style_green.css">

    <!-- responsive css
    ======================================================================-->
    <link rel="stylesheet" href="css/responsive.css">



    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->


    <style>
        .single-brand {
            max-height: 100px;
        }

            .single-brand img {
                max-height: 90px;
            }

        .nav-pills li.active a {
            color: #fff !important;
            background-color: #80c223 !important
        }

        .nav-pills li a:hover {
            border: 0.5px solid #80c223 !important;
            color: #80c223 !important;
            background-color: #fff !important
        }

        .nav-pills li.active a:hover {
            color: #fff !important;
            background-color: #80c223 !important
        }

        .nav-pills li a {
            color: #808080 !important;
        }

        #btnViewDetails:hover {
            color: #80c223 !important;
        }
    </style>
</head>
<body>
    <div id="preloader-container">
        <div class="preloader">
            <span class="bubble-01"></span>
            <span class="bubble-02"></span>
            <span class="bubble-03"></span>
        </div>
    </div>
    <!-- END SITE PRELOADER -->
    <!-- HEADER AREA START HERE -->
    <header class="header-area" id="#home">
        <div class="header-top">
            <div class="container">
                <div class="row">
                    <div class="col-md-9 col-sm-9">
                        <ul class="welcom-top">
                            <li>
                                <a href="mailto:info@espark.com"><i class="fa fa-envelope"></i>info@workpermit.com</a>
                            </li>
                            <li>
                                <a href="#"><i class="fa fa-phone"></i>Tel: (123) 456-7890</a>
                            </li>
                            <li><i class="fa fa-clock-o"></i>Monday to Friday: 9am to 12:30pm and 2pm to 6:30pm</li>
                        </ul>
                    </div>
                    <!-- HEADER TOP SOCIAL -->
                    <div class="col-md-3 col-sm-3">
                        <div class="header-social pull-right">
                            <ul>
                                <li>
                                    <a href="#"><i class="fa fa-facebook"></i></a>
                                </li>
                                <li>
                                    <a href="#"><i class="fa fa-twitter"></i></a>
                                </li>
                                <li>
                                    <a href="#"><i class="fa fa-linkedin"></i></a>
                                </li>
                                <li>
                                    <a href="#"><i class="fa fa-google-plus"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- HEADER TOP END HERE -->
        <!-- MENU AREA START HERE -->
        <div class="main-menu-area">
            <div class="container">
                <div class="row">
                    <!-- FOR LOGO -->
                    <div class="col-md-2 col-sm-2">
                        <div class="logo">
                            <a href="#">
                                <img src="images/wp_logo.svg" alt="">
                            </a>
                        </div>
                    </div>
                    <!-- MAIN MENU START -->
                    <div class="col-md-10 col-sm-10">
                        <div class="main-menu">
                            <nav>
                                <ul>
                                    <li class="smooth-menu">
                                        <a href="index.html">home</a>
                                    </li>
                                    <li class="smooth-menu">
                                        <a href="index.html#about">about</a>
                                    </li>
                                    <li class="smooth-menu">
                                        <a href="index.html#contact">contact</a>
                                    </li>
                                    <li class="smooth-menu">
                                        <a href="jobs.html">Jobs</a>
                                    </li>
                                    <li class="smooth-menu">
                                        <a href="../login.aspx">Login</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- MENU AREA END HERE -->
        <!-- MOBILE-MENU-AREA START -->
        <div class="mobile-menu-area">
            <div class="mobile-menu">
                <div class="logo">
                    <a href="#">
                        <img src="images/logo.png" alt="">
                    </a>
                </div>
                <nav id="dropdown">
                    <ul>
                        <li class="smooth-menu">
                            <a href="index.html">home</a>
                        </li>
                        <li class="smooth-menu">
                            <a href="index.html#about">about</a>
                        </li>
                        <li class="smooth-menu">
                            <a href="index.html#contact">contact</a>
                        </li>
                        <li class="smooth-menu">
                            <a href="jobs.html">Jobs</a>
                        </li>
                        <li class="smooth-menu">
                            <a href="../login.aspx">Login</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <!-- MOBILE-MENU-AREA START -->
    </header>

    <section id="content">
        <div class="container" style="margin-top: 70px; margin-bottom: 255px;">
            <div class="row">
                <div class="col-md-12">
                    <div class="section-text">
                        <h2 class="section-title">job <span class="color">openings</span></h2>
                        <!--<p class="s-title">Espark sit amet consectetur adipisicing elit. Corporis, perferendis! Lorem ipsum. adipisicing elit. Corporis, perferendis! Lorem ipsum.</p>-->
                    </div>
                </div>

                <ul class="nav nav-pills nav-justified">
                    <li class="bg-success active"><a data-toggle="tab" class="agriculture" href="#agriculture">Agriculture</a></li>
                    <li class="bg-success"><a data-toggle="tab" class="industry" href="#industry">Industry</a></li>
                    <li class="bg-success"><a data-toggle="tab" class="retail" href="#retail">Retail</a></li>
                </ul>

                <div class="tab-content">
                    <div id="agriculture" class="tab-pane fade in active">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="table-responsive">

                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="industry" class="tab-pane fade">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="table-responsive">

                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="retail" class="tab-pane fade">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="table-responsive">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div id="modalApplyNow" class="modal fade" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: #333d4d !important; color: #F3F5F8 !important">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" id="addNewTitle">Add New Job Offer</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label col-sm-2">First Name<sup class="text-danger"> *</sup></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="firstName" placeholder="Enter First Name">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">Last Name<sup class="text-danger"> *</sup></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="lastName" placeholder="Enter Last Name">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">Email<sup class="text-danger"> *</sup></label>
                                <div class="col-sm-10">
                                    <input type="email" class="form-control" id="email" placeholder="Enter Email">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="control-label col-sm-2">NIF Number<sup class="text-danger"> *</sup></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="nif_number" placeholder="Enter NIF Number">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">DOB<sup class="text-danger"> *</sup></label>
                                <div class="col-sm-10">
                                    <input type="date" class="form-control" id="dob">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">Sex<sup class="text-danger"> *</sup></label>
                                <div class="col-sm-10">
                                    <select id="sex" class="form-control">
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="control-label col-sm-2">Contact<sup class="text-danger"> *</sup></label>
                                <div class="col-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon">+351</span>
                                        <input type="text" class="form-control" id="contact" placeholder="Enter Contact">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">Nationality<sup class="text-danger"> *</sup></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="nationality" placeholder="Enter Nationality">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">Address<sup class="text-danger"> *</sup></label>
                                <div class="col-sm-10">
                                    <textarea rows="4" class="form-control" id="address" placeholder="Enter Address"></textarea>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-2">NIF<sup class="text-danger"> *</sup></label>
                                <a href="#" target="_blank" id="nifDocument" class="col-sm-3" hidden="hidden">NIF document</a>
                                <div class="col-sm-5" id="divUploadNif">
                                    <input type="file" id="nif" class="form-control" />
                                </div>
                                <div class="col-sm-2">
                                    <button class="btn btn-xs btn-info" id="uploadNif">Upload</button>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-2">NISS<sup class="text-danger"> *</sup></label>
                                <a href="#" target="_blank" id="nissDocument" class="col-sm-3" hidden="hidden">NISS document</a>
                                <div class="col-sm-5" id="divUploadNiss">
                                    <input type="file" id="niss" class="form-control" />
                                </div>
                                <div class="col-sm-2">
                                    <button class="btn btn-xs btn-info" id="uploadNiss">Upload</button>
                                </div>
                            </div>

                            

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-dark" data-dismiss="modal">Close</button>
                        <button id="btnSubmit" data-id="0" type="button" class="btn btn-success">Submit</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="modalViewDetails" class="modal fade" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: #333d4d !important; color: #F3F5F8 !important">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" id="viewDetailsTitle"></h4>
                    </div>
                    <div class="modal-body" id="viewDetailsBody">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-dark" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

    </section>

    <!--<section id="content" class="container" style="height: 500px; margin-top: 70px">-->
    <!--<ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
        <li><a data-toggle="tab" href="#menu1">Menu 1</a></li>
        <li><a data-toggle="tab" href="#menu2">Menu 2</a></li>
    </ul>-->
    <!--</section>-->

    <footer class="footer-area">
        <div class="footer-bottom" style="height: 100px;
        line-height: 100px;
        text-align: center;
        font-size: 12px;
">
            <div class="row">
                <div class="container">
                    <div class="col-lg-6 text-left">
                        <a href="#about" style="margin-right: 20px">ABOUT</a>
                        <a href="#contact">CONTACT</a>
                    </div>

                    <div class="col-lg-6 text-right" style="color: white">
                        <b>WORK PERMIT</b><span class="text-muted">® 2019. TODOS OS DIREITOS RESERVADOS</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!--  jQuery
    ==============================================================-->
    <script src="js/jquery-1.12.4.min.js"></script>

    <!-- Bootstrap Js
    ==============================================================-->
    <script src="js/bootstrap.min.js"></script>

    <!-- Modernizr Js
    ==============================================================-->
    <script src="js/modernizr-2.8.3.min.js"></script>

    <!-- Nivo-slider Js
    ==============================================================-->
    <script src="js/jquery.nivo.slider.js"></script>

    <!-- Wow Js
    ==============================================================-->
    <script src="js/wow.js"></script>

    <!-- Sticky Js
    ==============================================================-->
    <script src="js/jquery.sticky.js"></script>

    <!-- ScrollUp Js
    ==============================================================-->
    <script src="js/jquery.scrollUp.min.js"></script>

    <!-- Owl Js
    ==============================================================-->
    <script src="js/owl.carousel.min.js"></script>

    <!-- PrettyPhoto Js
    ==============================================================-->
    <script src="js/jquery.prettyPhoto.js"></script>

    <!-- Mobile Menu Js
    ==============================================================-->
    <script src="js/jquery.meanmenu.js"></script>

    <!-- Parallax Js
    ==============================================================-->
    <script src="js/jquery.parallax-1.1.3.js"></script>

    <!-- Easing Js
    ==============================================================-->
    <script src="js/jquery.easing-1.3%20.js"></script>
    <!-- Counterup Js
    ==============================================================-->
    <script src="js/jquery.counterup.min.js"></script>

    <!-- Waypoints Js
    ==============================================================-->
    <script src="js/jquery.waypoints.min.js"></script>

    <!-- App Js
    ==============================================================-->
    <script src="js/app.js"></script>

    <!-- Google Map Js
    ==============================================================-->
    <script src="https://maps.googleapis.com/maps/api/js"></script>

    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap.min.js"></script>


    <!-- Main Js
    ==============================================================-->
    <script src="js/main.js"></script>



    <script>
        $(document).ready(function () {
            $("#endDate").attr('min', formatDate(new Date()));
            function formatDate(date) {
                var month = date.getMonth() + 1;
                var day = date.getDate();
                var year = date.getFullYear();
                if (month < 10)
                    month = '0' + month.toString();
                if (day < 10)
                    day = '0' + day.toString();

                date = year + '-' + month + '-' + day;
                return date;
            }

            function getFormatedDate(value) {
                var date = new Date(value);
                var arrMonth = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                var month = date.getMonth();
                var day = date.getDate();
                var year = date.getFullYear();
                // if (month < 10)
                //     month = '0' + month.toString();
                if (day < 10)
                    day = '0' + day.toString();

                date = arrMonth[month] + ' ' + day + ', ' + year;
                return date;
            }

            function createDataTable(data, component) {
                $(component + " .table-responsive").html('<table class="table table-striped table-bordered table-hover" style="width: 100%;"><thead><tr><th>#</th><th>Title</th><th>Last Date</th><th>Shift</th><th>Location</th><th>Details</th><th class="text-center">Actions</th></tr></thead></table>');
                var arrData = [];
                $(data).each(function (index, value) {
                    var objData = {
                        "sr": index + 1,
                        "title": value.job_title,
                        "last_date": getFormatedDate(new Date(value.job_last_date)),
                        "shift": value.job_shift,
                        "location": value.job_location,
                        "details": "<a id='btnViewDetails' style='cursor: pointer;' data-details='" + value.job_details + "'>View</a>",
                        "actions": "<div class='text-center'><a id='btnApply' class='btn btn-sm btn-success' data-id='" + value.job_offer_id + "'>Apply Now</a></div>"
                    };
                    arrData.push(objData);
                });

                $(component + ' table').DataTable({
                    "data": arrData,
                    "columns": [
                        { "data": "sr" },
                        { "data": "title" },
                        { "data": "last_date" },
                        { "data": "shift" },
                        { "data": "location" },
                        { "data": "details" },
                        { "data": "actions" }
                    ]
                });
            }

            getNewAgricultureJobOffers();
            function getNewAgricultureJobOffers() {
                $.ajax({
                    url: localStorage.getItem("ApiLink") + "api/agriculture_job_offers_new",
                    async: false,
                    method: 'GET',
                    success: function (data) {
                        createDataTable(data, "#agriculture");
                    },
                    error: function (jqXHR, exception) {
                        swal({
                            icon: 'error',
                            title: 'Oops...',
                            text: exception,
                            timer: 1800
                        });
                    }
                });
            }

            function getNewIndustryJobOffers() {
                $.ajax({
                    url: localStorage.getItem("ApiLink") + "api/industry_job_offers_new",
                    async: false,
                    method: 'GET',
                    success: function (data) {
                        createDataTable(data, "#industry");
                    },
                    error: function (jqXHR, exception) {
                        swal({
                            icon: 'error',
                            title: 'Oops...',
                            text: exception,
                            timer: 1800
                        });
                    }
                });
            }

            function getNewRetailJobOffers() {
                $.ajax({
                    url: localStorage.getItem("ApiLink") + "api/retail_job_offers_new",
                    async: false,
                    method: 'GET',
                    success: function (data) {
                        createDataTable(data, "#retail");
                    },
                    error: function (jqXHR, exception) {
                        swal({
                            icon: 'error',
                            title: 'Oops...',
                            text: exception,
                            timer: 1800
                        });
                    }
                });
            }

            $(document).on("click", ".agriculture", function () {
                getNewAgricultureJobOffers();
            });

            $(document).on("click", ".industry", function () {
                getNewIndustryJobOffers()
            });

            $(document).on("click", ".retail", function () {
                getNewRetailJobOffers()
            });


            $(document).on("click", "#btnApply", function () {
                $("#modalApplyNow").modal("show");
            });

            $(document).on("click", "#btnViewDetails", function () {
                $("#modalViewDetails #viewDetailsTitle").html($(this).closest("tr").find("td:eq(1)").text() + "'s Details");
                $("#modalViewDetails #viewDetailsBody").html(unescape($(this).attr("data-details")));
                $("#modalViewDetails").modal("show");
            });
        });
    </script>
</body>
</html>